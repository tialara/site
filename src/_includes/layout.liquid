{% comment %}
  Todas as variáveis computadas ficam no topo para facilitar manutenção
{% endcomment %}

{% assign page_title = title | default: site.name %}
{% assign page_description = description | default: site.description %}
{% assign page_locale = site.locale | default: 'pt-BR' %}
{% assign page_language = page_locale | downcase | replace: '_', '-' %}
{% assign canonical_url = site.url | default: '' | append: page.url | default: '/' %}
{% assign at_context = '@context' %}
{% assign at_type = '@type' %}

<!doctype html>
<html lang='{{ page_language }}'>
  <head>
    <meta charset='UTF-8'>
    <title>{{ page_title }}</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name='description' content='{{ page_description }}'>
    <link rel='canonical' href='{{ canonical_url }}'>
    <meta name='theme-color' content='#2563eb'>
    <meta http-equiv='Content-Language' content='{{ page_language }}'>
    <link rel='preconnect' href='https://unpkg.com' crossorigin>

    <!-- Open Graph -->
    <meta property='og:type' content='website'>
    <meta property='og:title' content='{{ page_title }}'>
    <meta property='og:description' content='{{ page_description }}'>
    <meta property='og:url' content='{{ canonical_url }}'>
    <meta property='og:site_name' content='{{ site.name }}'>
    {% if site.locale %}<meta property='og:locale' content='{{ site.locale }}'>{% endif %}
    {% if site.image %}<meta property='og:image' content='{{ site.image }}'>{% endif %}

    <!-- Twitter -->
    <meta name='twitter:card' content='summary_large_image'>
    {% if site.twitter %}<meta name='twitter:site' content='{{ site.twitter }}'>{% endif %}
    <meta name='twitter:title' content='{{ page_title }}'>
    <meta name='twitter:description' content='{{ page_description }}'>
    {% if site.image %}<meta name='twitter:image' content='{{ site.image }}'>{% endif %}

    <!-- CSS -->
    <link rel='stylesheet' href='https://unpkg.com/basscss@8.1.0/css/basscss.min.css'>
    <link rel='stylesheet' href='/assets/style.css'>

    <!-- JSON-LD Structured Data -->
    <script type='application/ld+json'>
      {
        "{{ at_context }}": "https://schema.org",
        "{{ at_type }}": "WebSite",
        "name": {{ site.name | json }},
        "url": {{ site.url | json }},
        "inLanguage": {{ page_locale | json }},
        "description": {{ page_description | json }}
      }
    </script>
  </head>
  <body>
    <a href='#conteudo' class='sr-only focusable'>Pular para o conteúdo</a>
    <nav class='px2 py2' aria-label='Menu principal'>
      <div class='flex items-center justify-between flex-wrap'>
        <h1 class='m0'><a href='#inicio' class='bold h3'>Meu Site</a></h1>
        <ul class='list-reset flex flex-wrap'>
          <li class='mr2'><a href='#inicio' class='bold' aria-current='page'>Início</a></li>
          <li class='mr2'><a href='#servicos'>Serviços</a></li>
          <li class='mr2'><a href='#depoimentos'>Depoimentos</a></li>
          <li class='mr2'><a href='#cobertura'>Área de Cobertura</a></li>
          <li><a href='#contato'>Contato</a></li>
        </ul>
      </div>
    </nav>
    <main id='conteudo' class='px2'>
      <div class='container'>{{ content }}</div>
    </main>
    <footer class='px2 py2'>
      <div class='container'>
        <p><small>© 2025 - Meu Site SPA</small></p>
      </div>
    </footer>
    <script src='/assets/script.js' defer></script>
  </body>
</html>
