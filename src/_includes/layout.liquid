{% comment %}
  Todas as variáveis computadas ficam no topo para facilitar manutenção
{% endcomment %}

{% assign page_title = title | default: site.title %}
{% assign page_description = description | default: site.description %}
{% assign page_locale = site.locale | default: 'pt-BR' %}
{% assign page_language = page_locale | downcase | replace: '_', '-' %}
{% assign canonical_url = site.baseUrl | default: '' | append: page.url | default: '/' %}

<!doctype html>
<html lang='{{ page_language }}'>
  <head>
    <meta charset='UTF-8'>
    <title>{{ page_title }}</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name='description' content='{{ page_description }}'>
    <link rel='canonical' href='{{ canonical_url }}'>
    <meta name='theme-color' content='#cce4ff'>
    <meta http-equiv='Content-Language' content='{{ page_language }}'>

    <!-- Open Graph -->
    <meta property='og:type' content='website'>
    <meta property='og:title' content='{{ page_title }}'>
    <meta property='og:description' content='{{ page_description }}'>
    <meta property='og:url' content='{{ canonical_url }}'>
    <meta property='og:site_name' content='{{ site.title | default: page_title }}'>
    {% if site.locale %}<meta property='og:locale' content='{{ site.locale }}'>{% endif %}
    {% if site.image %}<meta property='og:image' content='{{ site.image }}'>{% endif %}

    <!-- Twitter -->
    <meta name='twitter:card' content='summary_large_image'>
    {% if site.twitter %}<meta name='twitter:site' content='{{ site.twitter }}'>{% endif %}
    <meta name='twitter:title' content='{{ page_title }}'>
    <meta name='twitter:description' content='{{ page_description }}'>
    {% if site.image %}<meta name='twitter:image' content='{{ site.image }}'>{% endif %}

    <!-- CSS: Open Props + normalize + estilos locais -->
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link href='https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap' rel='stylesheet'>
    <link rel='stylesheet' href='https://unpkg.com/open-props/normalize.min.css'>
    <link rel='stylesheet' href='https://unpkg.com/open-props'>
    {% css %}
/* Inlined from src/assets/style.css (bundled by Eleventy) */
/*
  Estilos baseados em Open Props
  - Utilitários mínimos para manter as classes já usadas no layout
  - Tons suaves usando a paleta do Open Props
  - Componentes leves (botões e cartões)
*/

/* Tipografia e base */
html { scroll-behavior: smooth; }
body {
  font-family: 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  color: var(--gray-9);
  line-height: var(--font-lineheight-3);
}
h1,h2,h3,h4,h5,h6 { margin-top: 0; margin-bottom: .5em; font-weight: 700; }
.h3 { font-size: var(--font-size-3); }
.bold { font-weight: 700; }
.m0 { margin: 0; }

/* Layout utilitário */
.flex { display: flex; }
.flex-wrap { flex-wrap: wrap; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.list-reset { list-style: none; padding: 0; margin: 0; }

/* Espaçamento utilitário (Open Props) */
.px2 { padding-inline: var(--size-3); }
.py2 { padding-block: var(--size-3); }
.mr2 { margin-right: var(--size-3); }

/* Container */
.container { max-width: 64rem; margin-inline: auto; }

/* Paleta pastel (mapeamento semântico) */
:root {
  --pastel-pink:   var(--pink-1);
  --pastel-blue:   var(--blue-1);
  --pastel-green:  var(--green-1);
  --pastel-yellow: var(--yellow-1);
  --pastel-link:   var(--indigo-7);
}

/* Aplicação de fundos suaves */
nav[aria-label='Menu principal'] { background-color: var(--pastel-blue); }
footer { background-color: var(--pastel-yellow); }

/* Links */
a { color: var(--pastel-link); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Botões */
.btn {
  display: inline-block;
  padding-inline: var(--size-4);
  padding-block: var(--size-2);
  border: 0;
  border-radius: var(--radius-2);
  font-weight: 700;
  box-shadow: var(--shadow-2);
  transition: transform .08s ease, box-shadow .2s ease, background-color .2s ease;
}
.btn:focus-visible { outline: 3px solid var(--indigo-6); outline-offset: 2px; }
.btn:active { transform: translateY(1px); box-shadow: var(--shadow-1); }

.btn--pink  { background: var(--pink-3); color: var(--gray-12); }
.btn--pink:hover  { background: var(--pink-4); }
.btn--blue  { background: var(--blue-3); color: var(--gray-12); }
.btn--blue:hover  { background: var(--blue-4); }
.btn--green { background: var(--green-3); color: var(--gray-12); }
.btn--green:hover { background: var(--green-4); }
.btn--yellow{ background: var(--yellow-3); color: var(--gray-12); }
.btn--yellow:hover{ background: var(--yellow-4); }

/* Cartões simples */
.card {
  background: white;
  border-radius: var(--radius-2);
  box-shadow: var(--shadow-2);
  padding: var(--size-4);
}
.card--soft-pink  { background: color-mix(in oklab, white 85%, var(--pink-5)); }
.card--soft-blue  { background: color-mix(in oklab, white 85%, var(--blue-5)); }
.card--soft-green { background: color-mix(in oklab, white 85%, var(--green-5)); }
.card--soft-yellow{ background: color-mix(in oklab, white 85%, var(--yellow-5)); }

/* Seções padrão */
.section { padding-block: var(--size-7); }

/* Gradiente opcional para heróis/banners (pastel) */
.bg-gradient-pastel { background-image: var(--gradient-2); }
    {% endcss %}

    <!-- JSON-LD Structured Data -->
    <script type='application/ld+json'>
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": {{ site.title | default: page_title | json }},
        "url": {{ site.baseUrl | default: canonical_url | json }},
        "inLanguage": {{ page_locale | json }},
        "description": {{ page_description | json }}
      }
    </script>
  </head>
  <body>
    <a href='#conteudo'>Pular para o conteúdo</a>
    <nav class='px2 py2' aria-label='Menu principal'>
      <div class='flex flex-wrap items-center justify-between container'>
        <div class='flex items-center'>
          <img src='/assets/logo.png' alt='{{ site.title | default: "Meu Site" }}' class='mr2' style='height:48px'>
          <a href='/' class='h3 m0 bold'>{{ site.title | default: 'Meu Site' }}</a>
        </div>
        <ul class='list-reset flex flex-wrap items-center'>
          <li class='mr2'><a href='#inicio' aria-current='page'>Início</a></li>
          <li class='mr2'><a href='#servicos'>Serviços</a></li>
          <li class='mr2'><a href='#depoimentos'>Depoimentos</a></li>
          <li class='mr2'><a href='#cobertura'>Área de Cobertura</a></li>
          <li><a href='#contato'>Contato</a></li>
        </ul>
      </div>
    </nav>
    <main id='conteudo' class='px2 section' role='main'>
      <div class='container'>
        {{ content }}
      </div>
    </main>
    <footer class='px2 py2'>
      <div class='container'>
        <p><small>© {{ year }} - {{ site.title | default: 'Meu Site SPA' }}</small></p>
      </div>
    </footer>
    {% comment %} <script src='/assets/script.js' defer></script> {% endcomment %}
  </body>
</html>

